<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="order">
  <select id="selectOrderList" resultType="orderWithNames">
	select o.*, p.product_name, m.last_name || m.first_name as member_name,m.phone , s.status 
	from tb_order o join member m 
	    on (o.member_no = m.member_no) 
	    join product p 
	    on (o.product_no = p.product_no) 
	    join order_status s 
	    on(o.order_status_no = s.order_status_no) 
	order by order_no desc
  </select>
  
  <select id="selectOrderCnt" resultType="_int">
  	select count(*) from tb_order
  </select>
</mapper>